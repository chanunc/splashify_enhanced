function showpage(){jQuery("html").show()}function hidepage(){jQuery("html").hide()}jQuery(document).ready(function(e){var t=Drupal.settings.splashify.js_mode;if(t=="redirect"){hidepage()}var n=new Date;var r=n.getTime()/1e3;var i=document.referrer+"";var s=window.location.hostname+"";var o=e.jStorage.get("splash",0);var u=Drupal.settings.splashify.js_splash_always;var a=Drupal.settings.splashify.js_mode_settings.urls;var f=Drupal.settings.splashify.js_disable_referrer_check;var l=Drupal.settings.splashify.js_mode_settings;if(i.indexOf("?")!=-1){i=i.substr(0,i.indexOf("?"))}if(i.search(s)!=-1&&!f||jQuery.inArray(window.location.pathname,a)>-1){showpage();return}var c=false;if(!o||o<r||u=="1"){c=true}if(c){var h=Drupal.settings.splashify.js_expire_after;var p=e.jStorage.get("splashlasturl","");var d="";e.jStorage.set("splash",r+h);if(Drupal.settings.splashify.js_mode_settings.system_splash!=""){d=Drupal.settings.splashify.js_mode_settings.system_splash}else if(Drupal.settings.splashify.js_mode_settings.mode=="sequence"){var v=0;var m=jQuery.inArray(p,a);if(m>-1&&m+1<Drupal.settings.splashify.js_mode_settings.total_urls){v=m+1}d=a[v]}else if(Drupal.settings.splashify.js_mode_settings.mode=="random"){var v=Math.floor(Math.random()*Drupal.settings.splashify.js_mode_settings.total_urls);d=a[v]}e.jStorage.set("splashlasturl",d);function g(){if(t=="redirect"){window.location.replace(d)}else if(t=="colorbox"){var n={transition:"elastic",iframe:true,href:d,width:Drupal.settings.splashify.js_mode_settings.size_width,height:Drupal.settings.splashify.js_mode_settings.size_height};if(d.substring(0,16)=="_splashify_ajax/"){var n={transition:"elastic",iframe:false,href:d,width:Drupal.settings.splashify.js_mode_settings.size_width,height:Drupal.settings.splashify.js_mode_settings.size_height}}e.colorbox(n)}else if(t=="window"){window.open(d,"splash",Drupal.settings.splashify.js_mode_settings.size)}}function y(){e.colorbox.close()}if(l.how_delay_enable==1){setTimeout(g,l.how_delay)}else{g()}if(l.how_autoclose_enable==1&&t=="colorbox"){setTimeout(y,l.how_autoclose)}}else if(t=="redirect"){showpage()}});
